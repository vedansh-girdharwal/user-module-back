(function(){"use strict";var e={837:function(e,r,a){var s=a(6369),t=a(3822),o=a(2631),i=a(4951),n=a(6215),l=a.n(n);s.ZP.use(t.ZP),s.ZP.use(o.Z),s.ZP.use(i.ZP),s.ZP.use(l());var m=function(){var e=this,r=e._self._c;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},d=[],u={name:"App",components:{}},v=u,c=a(1001),f=(0,c.Z)(v,m,d,!1,null,null,null),p=f.exports,g=a(6265),$=a.n(g),h={toastDuration:5e3,BaseUrl:"http://localhost:3000"};const w=e=>$().post(`${h.BaseUrl}/auth/register`,e,{headers:{"Content-Type":"application/json"}}).then(alert("user registered successfully")).catch((e=>{alert(`${e.message}`)})),_=e=>$().post(`${h.BaseUrl}/auth/login`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e.data)).catch((e=>{alert(`${e.message}`)})),C="token",b="email",P="role",y={state:{token:localStorage.getItem(C)||"",email:localStorage.getItem(b)||"",role:localStorage.getItem(P)||"",name:""},getters:{isAuthenticated(e){return!!e.token},isAdmin(e){return"admin"===e.role},getName(e){return e.name}},mutations:{setToken(e,r){e.token=r},setEmail(e,r){e.email=r},setRole(e,r){e.role=r},setName(e,r){e.name=r}},actions:{login({commit:e},r){return _(r).then((r=>{const{name:a,email:s,role:t,token:o}=r.data;return localStorage.setItem(b,s),localStorage.setItem(P,t),localStorage.setItem(C,o),e("setToken",o),e("setEmail",s),e("setRole",t),e("setName",a),s}))}}};var Z=y;const q=new t.ZP.Store({modules:{auth:Z}});var x=q,k=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("div",{staticClass:"box"},[r("h1",[e._v("Register")]),r("hr"),r("form",{attrs:{name:"form"},on:{submit:function(r){return r.preventDefault(),e.register.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.form.name),"is-valid":e.validClass(e.$v.form.name)},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.form.name},on:{blur:function(r){return e.$v.form.name.$touch()},input:function(r){r.target.composing||e.$set(e.form,"name",r.target.value)}}}),e.$v.form.name.$error?r("div",[e.$v.form.name.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("Name field is required")])])]):e._e()]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.form.email),"is-valid":e.validClass(e.$v.form.email)},attrs:{type:"email",name:"email",id:"email"},domProps:{value:e.form.email},on:{blur:function(r){return e.$v.form.email.$touch()},input:function(r){r.target.composing||e.$set(e.form,"email",r.target.value)}}}),e.$v.form.email.$error?r("div",[e.$v.form.email.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("Email field is required")])]),e.$v.form.email.email?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("Invalid email format")])])]):e._e()]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.form.password),"is-valid":e.validClass(e.$v.form.password)},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.form.password},on:{blur:function(r){return e.$v.form.password.$touch()},input:function(r){r.target.composing||e.$set(e.form,"password",r.target.value)}}}),e.$v.form.password.$error?r("div",[e.$v.form.password.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("password field is required")])]),e.$v.form.password.matchString?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("The password must have:")]),r("small",[e._v("atleast 8 characters")]),r("br"),r("small",[e._v("one uppercase letter")]),r("br"),r("small",[e._v("one lowercase letter")]),r("br"),r("small",[e._v("one special character")]),r("br"),r("small",[e._v("one numeric")]),r("br")])]):e._e()]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"cnfPassword"}},[e._v("Confirm password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cnfPassword,expression:"cnfPassword"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.cnfPassword),"is-valid":e.validClass(e.$v.cnfPassword)},attrs:{type:"password",name:"cnfPassword",id:"cnfPassword"},domProps:{value:e.cnfPassword},on:{input:[function(r){r.target.composing||(e.cnfPassword=r.target.value)},function(r){return e.$v.cnfPassword.$touch()}]}}),e.$v.cnfPassword.$error?r("div",[e.$v.cnfPassword.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("confirm password field is required")])]),e.$v.cnfPassword.matchPassword?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("confirm password is not matched")])])]):e._e()]),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn",attrs:{disabled:e.$v.form.$invalid||e.$v.cnfPassword.$invalid}},[e._v(" Register ")])])])])])},N=[],O=a(5795),S={name:"RegisterPage",data(){return{processing:!1,form:{name:"",email:"",password:""},cnfPassword:""}},validations:{form:{name:{required:O.C1},email:{email:O.Do,required:O.C1},password:{required:O.C1,matchString:function(e){return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(e)}}},cnfPassword:{required:O.C1,matchPassword:function(){return this.cnfPassword===this.form.password}}},methods:{register(){this.$v.form.$touch(),this.$v.form.$invalid?alert("Invalid input"):w(this.form).then((()=>this.$router.push({name:"login"}))).catch((e=>{s.ZP.$toast.open({message:e.response.data.message,duration:h.toastDuration,type:"error"})}))},validClass(e){return!e.$invalid&&e.$model&&e.$dirty},errorClass(e){return e.$error}}},I=S,T=(0,c.Z)(I,k,N,!1,null,null,null),j=T.exports,D=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("div",{staticClass:"box"},[r("h1",[e._v("Register")]),r("hr"),r("form",{attrs:{name:"form"},on:{submit:function(r){return r.preventDefault(),e.login.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.form.email),"is-valid":e.validClass(e.$v.form.email)},attrs:{type:"email",name:"email",id:"email"},domProps:{value:e.form.email},on:{blur:function(r){return e.$v.form.email.$touch()},input:function(r){r.target.composing||e.$set(e.form,"email",r.target.value)}}}),e.$v.form.email.$error?r("div",[e.$v.form.email.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("Email field is required")])]),e.$v.form.email.email?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("Invalid email format")])])]):e._e()]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-ele",class:{"is-invalid":e.errorClass(e.$v.form.password),"is-valid":e.validClass(e.$v.form.password)},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.form.password},on:{blur:function(r){return e.$v.form.password.$touch()},input:function(r){r.target.composing||e.$set(e.form,"password",r.target.value)}}}),e.$v.form.password.$error?r("div",[e.$v.form.password.required?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("password field is required")])]),e.$v.form.password.matchString?e._e():r("div",{staticClass:"error-message"},[r("small",[e._v("The password must have:")]),r("small",[e._v("atleast 8 characters")]),r("br"),r("small",[e._v("one uppercase letter")]),r("br"),r("small",[e._v("one lowercase letter")]),r("br"),r("small",[e._v("one special character")]),r("br"),r("small",[e._v("one numeric")]),r("br")])]):e._e()]),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn",attrs:{disabled:e.$v.form.$invalid}},[e._v(" Login ")])])])])])},E=[],R={name:"LoginPage",data(){return{processing:!1,form:{email:"",password:""}}},validations:{form:{email:{email:O.Do,required:O.C1},password:{required:O.C1,matchString:function(e){return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(e)}}}},methods:{login(){this.$v.form.$touch(),this.$v.form.$invalid?alert("Invalid input"):this.$store.dispatch("login",this.form).then((()=>this.$router.push({name:"home"}))).catch((e=>{s.ZP.$toast.open({message:e.response.data.message,duration:h.toastDuration,type:"error"})}))},validClass(e){return!e.$invalid&&e.$model&&e.$dirty},errorClass(e){return e.$error}}},A=R,B=(0,c.Z)(A,D,E,!1,null,null,null),U=B.exports,z=function(){var e=this,r=e._self._c;return r("div",[r("h1",[e._v("Welcome "+e._s(e.name))])])},L=[],F={name:"HomePage",data(){return{name:this.$store.getters.getName}}},H=F,M=(0,c.Z)(H,z,L,!1,null,null,null),W=M.exports;const G=new o.Z({mode:"history",routes:[{name:"register",path:"/register",component:j},{name:"login",path:"/login",component:U},{name:"home",path:"/home",component:W}]});var J=G;s.ZP.config.productionTip=!1,new s.ZP({store:x,router:J,render:e=>e(p)}).$mount("#app")}},r={};function a(s){var t=r[s];if(void 0!==t)return t.exports;var o=r[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(r,s,t,o){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],t=e[d][1],o=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var m=t();void 0!==m&&(r=m)}}return r}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,t,o]}}(),function(){a.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(r,{a:r}),r}}(),function(){a.d=function(e,r){for(var s in r)a.o(r,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};a.O.j=function(r){return 0===e[r]};var r=function(r,s){var t,o,i=s[0],n=s[1],l=s[2],m=0;if(i.some((function(r){return 0!==e[r]}))){for(t in n)a.o(n,t)&&(a.m[t]=n[t]);if(l)var d=l(a)}for(r&&r(s);m<i.length;m++)o=i[m],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkuser_module"]=self["webpackChunkuser_module"]||[];s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(837)}));s=a.O(s)})();
//# sourceMappingURL=app.b93a72cc.js.map